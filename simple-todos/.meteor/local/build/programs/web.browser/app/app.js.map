{"version":3,"sources":["meteor://ðŸ’»app/client/main.jsx","meteor://ðŸ’»app/imports/ui/js/CourseCard.js","meteor://ðŸ’»app/imports/ui/App.jsx","meteor://ðŸ’»app/imports/ui/Course.jsx","meteor://ðŸ’»app/imports/ui/CourseCard.jsx","meteor://ðŸ’»app/imports/ui/CourseReviews.jsx","meteor://ðŸ’»app/imports/ui/Form.jsx","meteor://ðŸ’»app/imports/ui/Review.jsx","meteor://ðŸ’»app/imports/ui/SearchBar.jsx","meteor://ðŸ’»app/imports/ui/Update.jsx","meteor://ðŸ’»app/imports/ui/UpdateReview.jsx","meteor://ðŸ’»app/imports/api/classes.js"],"names":["React","module","watch","require","v","Meteor","render","App","Update","startup","document","getElementById","export","lastOfferedSems","semAbbriviationToWord","lastSem","theClass","semsArray","classSems","lastSemester","length","lastSemester2","lastTwoOffered","sem","abbreviation","String","substring","semesterList","Component","PropTypes","createContainer","Classes","Form","Course","CourseCard","SearchBar","CourseReviews","props","state","selectedClass","query","handleSelectClass","bind","updateQuery","classId","call","error","result","setState","console","log","event","target","value","renderCourseCard","toShow","renderForm","_id","renderPastReviews","propTypes","exportDefault","info","handler","classFull","object","isRequired","func","ReactDOM","Reviews","course","url","classSub","toUpperCase","classNum","offered","classTitle","Review","renderReviews","reviews","map","review","courseId","string","array","subscription","subscribe","loading","ready","find","fetch","diff","quality","message","handleSubmit","preventDefault","text","findDOMNode","refs","reviewText","trim","median","atten","newReview","medGrade","handleQualChange","inputElement","difficulty","renderCourses","allCourses","slice","clickFunc","queryFunc","bool","UpdateReview","approveReview","removeReview","reviewsToApprove","approveHandler","removeHandler","Subjects","Mongo","HTTP","check","Collection","schema","SimpleSchema","type","Number","classAtten","classPrereq","optional","subShort","subFull","user","grade","date","Date","visible","methods","insert","undefined","regex","RegExp","test","makeVisible","update","$set","remove","addNewSemester","initiate","isServer","addAllCourses","getCourseById","c","_ensureIndex","publish","validClasses","searchString","limit","validReviews","visiblity","ret","semesters","semester","timeout","statusCode","response","JSON","parse","content","sub","data","subjects","parent","checkSub","toLowerCase","descr","result2","response2","courses","classes","subject","catalogNbr","titleLong","matchedCourse","oldSems","indexOf","push","findCurrSemester","allSemesters","rosters","thisSem","slug","findAllSemesters","allSemestersArray","semesterObject"],"mappings":"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","file":"/app.js","sourcesContent":["import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\n\nimport App from '../imports/ui/App.jsx';\nimport Update from '../imports/ui/Update.jsx';\n\nMeteor.startup(() => {\n  render(<App query=\"\"/>, document.getElementById('render-target'));\n  //render(<Update />, document.getElementById('render-target'));\n});\n","export function lastOfferedSems(theClass){\n  var semsArray = theClass.classSems;\n  var lastSemester = semsArray[semsArray.length-1];\n  var lastSemester2 = semsArray[semsArray.length-2];\n  if (lastSemester2 != null){\n    var lastTwoOffered = semAbbriviationToWord(semsArray[semsArray.length-1]) + \", \" + semAbbriviationToWord(semsArray[semsArray.length-2]);\n  }\n  else {\n    var lastTwoOffered = semAbbriviationToWord(semsArray[semsArray.length-1]);\n  }\n\n\n  return lastTwoOffered;\n}\n\nexport function semAbbriviationToWord(sem){\n  var abbreviation  = String(sem);\n  switch (abbreviation.substring(0,2)){\n    case \"SP\":\n      return \"Spring \\'\" + abbreviation.substring(2);\n    case \"FA\":\n      return \"Fall \\'\" + abbreviation.substring(2);\n    case \"SU\":\n      return \"Summer \\'\" + abbreviation.substring(2);\n  }\n}\n\nexport function lastSem(sem){\n  var semesterList  = String(sem);\n  return semesterList.substring(semesterList.length-4);\n}\n","import React, { Component, PropTypes } from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Classes } from '../api/classes.js';\nimport Form from './Form.jsx';\nimport Course from './Course.jsx';\nimport CourseCard from './CourseCard.jsx';\nimport SearchBar from './SearchBar.jsx';\nimport CourseReviews from './CourseReviews.jsx';\n\n// App component - represents the whole app\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    // state of the app will change depending on class selection and current search query\n    this.state = {\n      selectedClass: null,\n      query: \"\"\n    }\n\n    // bind functions called in other files to this context, so that current state is still accessable\n    this.handleSelectClass = this.handleSelectClass.bind(this);\n    this.updateQuery = this.updateQuery.bind(this);\n  }\n\n  //get the full class details for the clicked class. Called in Course.jsx\n  handleSelectClass(classId) {\n    Meteor.call('getCourseById', classId, (error, result) => {\n      if (!error) {\n        this.setState({selectedClass: result, query: \"\"});\n      } else {\n        console.log(error)\n      }\n    });\n  }\n\n  //set the state variable to the current value of the input. Called in SearchBar.jsx\n  updateQuery(event) {\n    this.setState({query: event.target.value});\n  }\n\n  //check if a class is selected, and show a coursecard only when one is.\n  renderCourseCard() {\n    var toShow = <div />; //empty div\n    if (this.state.selectedClass != null) {\n      toShow = <CourseCard course={this.state.selectedClass}/>;\n    }\n    return toShow;\n  }\n\n  //check if a class is selected, dispay an add review form only when one is\n  renderForm() {\n    var toShow = <div />;\n    if (this.state.selectedClass != null) {\n      toShow = <Form courseId={this.state.selectedClass._id}/>;\n    }\n    return toShow;\n  }\n\n  //check if a class is selected, dispay paast reviews for the class, only when one is selected\n  renderPastReviews() {\n    var toShow = <div />;\n    if (this.state.selectedClass != null) {\n      toShow = <CourseReviews courseId={this.state.selectedClass._id} />\n    }\n    return toShow;\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className='row'>\n          <SearchBar query={this.state.query} queryFunc={this.updateQuery} clickFunc={this.handleSelectClass}/>\n        </div>\n        <div className='row'>\n          <div className=\"col-md-6\">\n            {this.renderCourseCard()}\n          </div>\n          <div className=\"col-md-6 panel-container fix-contain\">\n            <div className=\"row\">\n              {this.renderForm()}\n            </div>\n            <div className=\"row\">\n              {this.renderPastReviews()}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {};\n\nexport default createContainer((props) => {return {};}, App);\n","import React, { Component, PropTypes } from 'react';\n\n// Course component - represents a single course to be shown to the user in a course search.\n// Clicking this component will change the state of the app to show course details.\nexport default class Course extends Component {\n  //props:\n  // info, a database object containing all of this class's data.\n  render() {\n    var classId = this.props.info._id;\n    return (\n      <li id={classId} onClick={() => this.props.handler(classId)}>{this.props.info.classFull}</li>\n    );\n  }\n}\n\nCourse.propTypes = {\n  // This component gets the task to display through a React prop.\n  // We can use propTypes to indicate it is required\n  info: PropTypes.object.isRequired,\n  handler: PropTypes.func.isRequired\n};\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Reviews } from '../api/classes.js';\nimport './css/CourseCard.css';\nimport {lastOfferedSems, lastSem} from './js/CourseCard.js';\n\n// Course Card component - renders course data, including gauges for metrics.\n//this is the left side of the two pannels\n// Takes in a course ID\n\n\n\nexport default class Form extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n\n  render() {\n    var theClass = this.props.course;\n    var url = \"https://classes.cornell.edu/browse/roster/\"\n              + lastSem(theClass.classSems) + \"/class/\"\n              + theClass.classSub.toUpperCase() + \"/\"\n              + theClass.classNum;\n    var offered = lastOfferedSems(theClass);\n\n    return (\n      <header>\n        <h1 className=\"subheader\">{theClass.classSub.toUpperCase() + \" \" + theClass.classNum + \": \" + theClass.classTitle}</h1>\n        <a className=\"cornellClassLink spacing-large\" href={url} target=\"_blank\">\n        cornell.classes.edu\n        </a>\n        <p className=\"review-text spacing-large\"><strong>Last Offered: </strong>{offered}</p>\n        <h2>Class Data</h2>\n        <div>\n          <div className=\"panel panel-default\">\n            <div className=\"panel-body\">\n              <section>\n                <div className=\"row\" id=\"gaugeHolder\">\n                  <div className=\"col-sm-4\">\n                  <ng-gauge id=\"gauge1\" foreground-color=\"{{$ctrl.qualColor($ctrl.qual)}}\" type=\"arch\" thick=\"{{$ctrl.gaugeThick}}\" size=\"{{$ctrl.gaugeWidth}}\" cap=\"butt\" value=\"$ctrl.qual\" label=\"Overall Quality\" append=\"/5\">\n                  </ng-gauge>\n                  </div>\n                  <div className=\"col-sm-4\">\n                    <ng-gauge id=\"gauge2\" foreground-color=\"{{$ctrl.diffColor($ctrl.diff)}}\"  type=\"arch\" thick=\"{{$ctrl.gaugeThick}}\" size=\"{{$ctrl.gaugeWidth}}\" cap=\"butt\" value=\"$ctrl.diff\" label=\"Level of Difficulty\" append=\"/5\">\n                  </ng-gauge>\n                  </div>\n                  <div className=\"col-sm-4\">\n                    <ng-gauge id=\"gauge3\" foreground-color=\"{{$ctrl.gradeColor($ctrl.grade)}}\" type=\"arch\" thick=\"{{$ctrl.gaugeThick}}\" size=\"{{$ctrl.gaugeWidth}}\" cap=\"butt\" value=\"$ctrl.grade\" label=\"Median Grade\">\n                  </ng-gauge>\n                  </div>\n                </div>\n              </section>\n            </div>\n          </div>\n        </div>\n        <p className=\"review-text spacing-large\">Attendence Mandatory: Yes/No (Placeholder)</p>\n\n      </header>\n    );\n  }\n}\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Reviews } from '../api/classes.js';\nimport Review from './Review.jsx';\n\n// Holder component to list all (or top) reviews for a course.\n// Takes in course ID for selecting reviews.\nexport class CourseReviews extends Component {\n  //props:\n  //courseId, the course these reviews belong to\n\n  renderReviews() {\n    return this.props.reviews.map((review) => (\n      <Review key={review._id} info={review}/>\n    ));\n  }\n\n  render() {\n    return (\n      <section>\n\t\t\t\t<legend className=\"subheader\">Past Reviews</legend>\n\t\t\t    <div className= \"panel panel-default\">\n\t\t\t    \t<div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t       {this.renderReviews()}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n    );\n  }\n}\n\nCourseReviews.propTypes = {\n  courseId: PropTypes.string.isRequired,\n  reviews: PropTypes.array.isRequired\n};\n\nexport default createContainer((props) => {\n  const subscription = Meteor.subscribe('reviews', props.courseId, 1); //get only visible reviews for this course\n  const loading = !subscription.ready();\n  const reviews = Reviews.find({}).fetch();\n  return {\n    reviews, loading,\n  };\n}, CourseReviews);\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Reviews } from '../api/classes.js';\n\n// Form component to allow user to add a review for selected course.\n// Takes in a course ID.\nexport default class Form extends Component {\n  constructor(props) {\n    super(props);\n\n    //store the currently selected form values\n    this.state = {\n      diff: 3, //default\n      quality: 3, //default\n      message: null\n    }\n\n    //bind the submission function to this class\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  // handle a form submission. This will either add the review to the database\n  // or return an error telling the user to try agian.\n  handleSubmit(event) {\n    event.preventDefault();\n\n    //ensure all feilds are filled out\n    const text = ReactDOM.findDOMNode(this.refs.reviewText).value.trim();\n    const median = ReactDOM.findDOMNode(this.refs.median).value.trim();\n    const atten = ReactDOM.findDOMNode(this.refs.atten).value.trim();\n    if (text != null && median != null && atten != null) {\n      console.log(\"got needed elements\");\n\n      // create new review object\n      var newReview = {\n        text: text,\n        diff: this.state.diff,\n        quality: this.state.quality,\n        medGrade: median,\n        atten: atten\n      }\n\n      //call the insert funtion\n      Meteor.call('insert', newReview, this.props.courseId, (error, result) => {\n        if (!error) {\n          // Reset form\n          ReactDOM.findDOMNode(this.refs.reviewText).value = '';\n          ReactDOM.findDOMNode(this.refs.median).value = null;\n          ReactDOM.findDOMNode(this.refs.atten).value = null;\n          this.diff == 3;\n          this.quality == 3;\n\n          this.setState({message: \"Thanks! Your review is pending approval.\"});\n        } else {\n          console.log(error)\n          this.setState({message: \"A error occured. Please try again.\"});\n        }\n      });\n    }\n  }\n\n  handleQualChange(inputElement) {\n    console.log(inputElement.value);\n    //this.state.newReview.quality ==\n  }\n   \n  render() {\n    return (\n      <form className=\"new-task\" onSubmit={this.handleSubmit.bind(this)} >\n        <div className = \"panel panel-default\">\n          <div className=\"panel-body\">\n            <textarea type=\"text\" ref=\"reviewText\" placeholder=\"Does your professor tell funny jokes? Leave your feedback here!\"/>\n          </div>\n        </div>\n        <hr className=\"divider\" />\n        <div className=\"row\">\n      \t\t<div className=\"col-md-3\">\n  \t\t\t\t    <h1 className=\"secondary-text\">Overall Quality</h1>\n\t  \t\t\t</div>\n\t  \t\t\t<div className=\"col-md-1\">\n\t  \t\t\t\t<div className=\"small-icon\" id=\"sm1\">\n\t\t  \t\t\t\t<p>{this.state.quality}</p>\n\t\t  \t\t\t</div>\n\t  \t\t\t</div>\n\t\t  \t\t<div className=\"col-md-8\">\n\t\t  \t\t\t<input type=\"range\" id=\"a2\" name=\"qual\" min=\"0\" max=\"5\" step=\"1\" />\n\t\t  \t\t</div>\n  \t\t\t</div>\n\t\t\t\t<div className=\"sm-spacing\"></div>\n        <div className='row'>\n          <div className=\"col-md-3\">\n              <h1 className=\"secondary-text\">Level of Difficulty</h1>\n          </div>\n          <div className=\"col-md-1\">\n            <div className=\"small-icon\" id=\"sm1\">\n              <p>{this.state.diff}</p>\n            </div>\n          </div>\n          <div className=\"col-md-8\">\n            <input type=\"range\" id=\"a2\" name=\"qual\" min=\"0\" max=\"5\" step=\"1\" />\n          </div>\n        </div>\n\t\t\t\t<div className=\"sm-spacing\"></div>\n\n\t  \t\t<div className=\"row\">\n\t  \t\t\t<div className=\"col-md-4\">\n\t  \t\t\t\t<div className=\"secondary-text\">Class Median</div>\n\t  \t\t\t</div>\n\t  \t\t\t<div className=\"col-md-8\">\n\t\t\t  \t\t<select ref='median'>\n\t\t\t\t\t\t  <option value=\"9\">A+</option>\n\t\t\t\t\t\t  <option value=\"8\">A</option>\n              <option value=\"7\">A-</option>\n              <option value=\"6\">B+</option>\n              <option value=\"5\">B</option>\n\t\t\t  \t\t\t<option value=\"4\">B-</option>\n\t\t\t  \t\t\t<option value=\"3\">C+</option>\n\t\t\t  \t\t\t<option value=\"2\">C</option>\n\t\t\t  \t\t\t<option value=\"1\">C-</option>\n\t\t\t\t\t  </select>\n\t\t\t\t  </div>\n  \t\t\t</div>\n\n\t\t\t\t<div className=\"sm-spacing\"></div>\n\n\t  \t\t<div className=\"row\">\n\t  \t\t\t<div className=\"col-md-4\">\n\t  \t\t\t\t<div className=\"secondary-text\">Attendence</div>\n\t  \t\t\t</div>\n\t  \t\t\t<div className=\"col-md-8\">\n\t\t\t    \t<select ref='atten'>\n\t\t\t  \t\t\t<option value=\"1\">Not Mandatory</option>\n\t\t\t  \t\t\t<option value=\"0\">Mandatory</option>\n\t\t\t  \t\t</select>\n\t\t\t  \t</div>\n\t  \t\t</div>\n\n    \t<div className=\"row\">\n    \t\t<div className=\"col-md-10\">\n  \t\t\t\t<h2 className=\"secondary-text\" >All posts are completely anonymous to ensure constructive, honest feedback. You must have previously been enrolled in the className to give feedback</h2>\n  \t\t\t</div>\n  \t\t\t<div className=\"col-md-2\">\n  \t\t\t\t<input type=\"submit\" value=\"Post\"/>\n  \t\t\t</div>\n  \t\t</div>\n  \t\t<div className=\"row\">\n  \t\t\t<div className=\"col-sm-12\">\n  \t\t\t<h2 className=\"secondary-text\">{this.state.message}</h2>\n  \t\t\t</div>\n  \t\t</div>\n    </form>\n    );\n  }\n}\n\nForm.propTypes = {\n  // This component gets the task to display through a React prop.\n  // We can use propTypes to indicate it is required\n  courseId: PropTypes.string.isRequired,\n};\n\n// export default createContainer(() => {\n//   Meteor.subscribe('reviews');\n//   return {\n//     tasks: Reviews.find({}, { sort: { createdAt: -1 } }).fetch(),\n//   };\n// }, App);\n","import React, { Component, PropTypes } from 'react';\n\n//Simple Review component - represents a stored review shown to the user when a course is selected.\nexport default class Review extends Component {\n  //props:\n  // info, a database object containing all of this review entry's data.\n  // render() {\n  //   var review = this.props.info;\n  //   return (\n\t\t// \t<li>\n\t\t// \t\t<div className = \"panel panel-default\">\n\t\t// \t\t\t<div className= \"panel-heading\" id=\"past\">Name?</div> \n\t\t// \t\t\t<div className = \"panel-body\">\n\t\t// \t\t\t    <div className = \"row\">\n\t\t// \t\t\t    \t<div className = \"col-sm-2\">\n\t\t// \t\t\t      \t\t<div className = \"panel panel-default\">\n  //                     <div className = \"panel-body\">{review.quality}</div>\n\t\t// \t\t\t      \t\t</div>\n\t\t// \t\t\t      \t</div>\n\t\t// \t\t\t      \t<div className = \"col-sm-2\">\n\t\t// \t\t\t      \t\t<p>Overall Quality</p>\n\t\t// \t\t\t      \t</div>\n\t\t// \t\t\t    \t<div className = \"col-sm-2\">\n\t\t// \t\t\t      \t<div className = \"panel panel-default\">\n\t\t// \t\t\t      \t\t<div className = \"panel-body\">{review.difficulty}</div>\n\t\t// \t\t\t      \t</div>\n\t\t// \t\t\t    \t</div>\n\t\t// \t\t\t      \t<div className = \"col-sm-2\">\n\t\t// \t\t\t      \t\t<p>Difficulty</p>\n\t\t// \t\t\t      \t</div>\n\t\t// \t\t\t    </div>\n\t\t// \t\t\t    <div className=\"row\">\n\t\t// \t\t\t   \t\t<div className = \"review-text\">{review.text}</div>\n\t\t// \t\t\t   \t</div>\n\t\t// \t\t\t</div>\n\t\t// \t\t</div>\n\t\t// \t</li>\n  //   );\n  // }\n\n  render() {\n    var review = this.props.info;\n    return (\n\t\t\t<li>\n\t\t\t\t<div className = \"panel panel-default\">\n\t\t\t\t\t<div className = \"panel-body\">\n\t\t\t\t\t    <div className = \"row\">\n\t\t\t\t\t    \t<div className = \"col-sm-2\">\n\t\t\t\t\t      \t\t<div className = \"panel panel-default\">\n                      <div className = \"panel-body\">{review.quality}</div>\n\t\t\t\t\t      \t\t</div>\n\t\t\t\t\t      \t</div>\n\t\t\t\t\t      \t<div className = \"col-sm-2\">\n\t\t\t\t\t      \t\t<p>Overall Quality</p>\n\t\t\t\t\t      \t</div>\n\t\t\t\t\t    \t<div className = \"col-sm-2\">\n\t\t\t\t\t      \t<div className = \"panel panel-default\">\n\t\t\t\t\t      \t\t<div className = \"panel-body\">{review.difficulty}</div>\n\t\t\t\t\t      \t</div>\n\t\t\t\t\t    \t</div>\n\t\t\t\t\t      \t<div className = \"col-sm-2\">\n\t\t\t\t\t      \t\t<p>Difficulty</p>\n\t\t\t\t\t      \t</div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t   \t\t<div className = \"review-text\">{review.text}</div>\n\t\t\t\t\t   \t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n    );\n  }\n}\n\nReview.propTypes = {\n  // This component gets the task to display through a React prop.\n  // We can use propTypes to indicate it is required\n  info: PropTypes.object.isRequired\n};\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Classes } from '../api/classes.js';\nimport Course from './Course.jsx';\n\n//SearchBar component - contains a search bar and results of a user course search\nexport class SearchBar extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderCourses() {\n    if (this.props.query != \"\") {\n      return this.props.allCourses.slice(0,10).map((course) => (\n        //create a new class \"button\" that will set the selected class to this class when it is clicked.\n        <Course key={course._id} info={course} handler={this.props.clickFunc}/>\n      ));\n    } else {\n      return <div />;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <input onChange={this.props.queryFunc} placeholder=\"CS 2110, Intro to Creative Writing\"/>\n        <ul>\n          {this.renderCourses()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  allCourses: PropTypes.array.isRequired,\n  loading: React.PropTypes.bool,\n  query: PropTypes.string.isRequired,\n  queryFunc: PropTypes.func.isRequired,\n  clickFunc: PropTypes.func.isRequired\n};\n\nexport default createContainer((props) => {\n  const subscription = Meteor.subscribe('classes', props.query);\n  const loading = !subscription.ready();\n  const allCourses = Classes.find({}).fetch();\n  return {\n    allCourses, loading,\n  };\n}, SearchBar);\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Reviews } from '../api/classes.js';\nimport UpdateReview from './UpdateReview.jsx';\n\n// Holder component for moderator interface. Shows all unapproved reviews and\n// allows the moderator to remove or approve them.\nexport class Update extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  //approve a review\n  approveReview(review) {\n    Meteor.call('makeVisible', review, (error, result) => {\n      if (!error && result==1) {\n        //console.log(\"approved review \" + review._id);\n      } else {\n        console.log(error)\n      }\n    });\n  }\n\n  //remove a review\n  removeReview(review) {\n    Meteor.call('removeReview', review, (error, result) => {\n      if (!error && result==1) {\n        //console.log(\"removed review \" + review._id);\n      } else {\n        console.log(error)\n      }\n    });\n  }\n\n  //show all reviews that have not been approved\n  renderReviews() {\n    return this.props.reviewsToApprove.map((review) => (\n      //create a new class \"button\" that will set the selected class to this class when it is clicked.\n      <UpdateReview key={review._id} info={review} removeHandler={this.removeReview} approveHandler={this.approveReview}/>\n    ));\n  }\n\n  render() {\n    return (\n      <div>\n        <ul>\n          {this.renderReviews()}\n        </ul>\n      </div>\n    )\n  };\n}\n\nUpdate.propTypes = {\n  reviewsToApprove: PropTypes.array.isRequired,\n  loading: React.PropTypes.bool\n};\n\nexport default createContainer((props) => {\n  const subscription = Meteor.subscribe('reviews', null, 0); //get unapproved reviews\n  const loading = !subscription.ready();\n  const reviewsToApprove = Reviews.find({}).fetch();\n  return {\n    reviewsToApprove, loading,\n  };\n}, Update);\n","import React, { Component, PropTypes } from 'react';\n\n// Update Review component for the moderator interface. Allows approval and removal of reviews.\nexport default class UpdateReview extends Component {\n  //props:\n  // info, a database object containing all of this review entry's data.\n  render() {\n    var review = this.props.info;\n    return (\n      <li id={review._id}>\n        <div className= \"panel panel-default\">\n          <div className=\"panel-heading\" id =\"past\"></div>\n          <div className= \"panel-body\">\n              <div className=\"row\">\n                <div className=\"col-sm-2\">\n                    <div className=\"panel panel-default\">\n                      <div className=\"panel-body\">{review.quality}</div>\n                    </div>\n                    <div className= \"panel panel-default\">\n                      <div className= \"panel-body\">{review.difficulty}</div>\n                    </div>\n                </div>\n                <div className= \"col-sm-2\">\n                    <div className= \"panel-body\"> Overall Quality</div>\n                    <div className= \"panel-body\"> Level of difficulty</div>\n                </div>\n                <div className= \"col-sm-8\">{review.text}</div>\n                <button onClick={() => this.props.approveHandler(review)}> Confirm Review</button>\n                <button onClick={() => this.props.removeHandler(review)}> Remove Review</button>\n              </div>\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n\nUpdateReview.propTypes = {\n  // This component gets the task to display through a React prop.\n  // We can use propTypes to indicate it is required\n  info: PropTypes.object.isRequired,\n  approveHandler: PropTypes.func.isRequired,\n  removeHandler: PropTypes.func.isRequired\n};\n","import { Mongo } from 'meteor/mongo';\nimport { HTTP } from 'meteor/http';\nimport { check } from 'meteor/check';\n\nexport const Classes = new Mongo.Collection('classes');\nClasses.schema = new SimpleSchema({\n  _id: {type: String},\n  classSub: {type: String},\n  classNum: {type: Number},\n  classTitle: {type: String},\n  classAtten: {type: Number},\n  classPrereq : { type: [String] ,optional: true},\n  classFull: {type: String},\n  classSems: {type: [String]}\n});\n\nexport const Subjects = new Mongo.Collection('subjects');\nSubjects.schema = new SimpleSchema({\n\t_id: {type: String},\n\tsubShort : {type: String},\n\tsubFull: {type: String}\n});\n\nexport const Reviews = new Mongo.Collection('reviews');\nReviews.schema = new SimpleSchema({\n\t_id: {type: String},\n\tuser: {type: String},\n\ttext: {type: String,optional: true},\n\tdifficulty: {type: Number},\n\tquality: {type: Number},\n \tclass: {type: String}, //ref to classId\n \tgrade: {type: Number},\n \tdate: {type: Date},\n \tvisible: {type: Number}\n});\n\n// defines all methods that will be editing the database so that database changes occur only on the server\nMeteor.methods({\n\t//insert a new review into the reviews database\n\tinsert: function(review, classId) {\n\t\t//only insert if all necessary feilds are filled in\n\t\tif (review.text != null && review.diff != null && review.quality != null && review.medGrade != null && classId != undefined && classId != null) {\n\t\t\t//ensure there are no illegal characters\n\t\t\tvar regex = new RegExp(/^(?=.*[A-Z0-9])[\\w:;.,!()\"'\\/$ ]+$/i)\n\t\t\tif (regex.test(review.text)) {\n\t\t\t  \tReviews.insert({\n\t\t\t\t    text: review.text,\n\t\t\t\t    difficulty: review.diff,\n\t\t\t\t    quality: review.quality,\n\t\t\t\t    class: classId,\n\t\t\t\t    grade: review.medGrade,\n\t\t\t\t    date: new Date(),\n\t\t\t\t    visible: 0\n\t\t\t\t})\n\t\t\t\treturn 1 //success\n\t\t\t} else {\n\t\t\t\treturn 0 //fail\n\t\t\t}\n\t\t} else {\n\t\t\treturn 0 //fail\n\t\t}\n\t},\n\t//make the reveiw with this id visible, checking to make sure it has a real id\n\tmakeVisible: function (review) {\n\t\tvar regex = new RegExp(/^(?=.*[A-Z0-9])/i)\n\t\tif (regex.test(review._id)) {\n   \t\t\tReviews.update(review._id, {$set: { visible: 1} })\n   \t\t\treturn 1\n   \t\t} else {\n   \t\t\treturn 0\n   \t\t}\n \t},\n \t//remove the review with this id, checking to make sure the id is a real id\n \tremoveReview: function(review) {\n \t\tvar regex = new RegExp(/^(?=.*[A-Z0-9])/i)\n\t\tif (regex.test(review._id)) {\n   \t\tReviews.remove({ _id: review._id})\n   \t\treturn 1\n   \t} else {\n   \t\treturn 0\n   \t}\n\t},\n\t//update the database to add any new classes in the current semester if they don't already exist. To be called from the admin page once a semester.\n\taddNewSemester: function(initiate) {\n\t\tif (initiate && Meteor.isServer) {\n\t\t\t//return addAllCourses(findCurrSemester());\n\t\t\treturn addAllCourses(['FA15']);\n\t\t}\n  },\n  //get the course (as an object) with this id, checking to make sure the id is real\n  getCourseById: function(courseId) {\n    //console.log(courseId);\n    var regex = new RegExp(/^(?=.*[A-Z0-9])/i)\n\n    if (regex.test(courseId)) {\n      var c = Classes.find({_id: courseId}).fetch()[0];\n      //console.log(c);\n   \t\treturn c;\n   \t}\n    return null\n  }\n});\n\n//Code that runs only on the server\nif (Meteor.isServer) {\n    Meteor.startup(() => { // code to run on server at startup\n\t  //add indexes to collections for faster search\n\t  Classes._ensureIndex(\n\t        { 'classSub' : 1 },\n\t        { 'classNum' : 1 },\n\t        { 'classTitle' : 1 },\n          { '_id' : 1}\n\t    );\n\t  Subjects._ensureIndex(\n\t  \t\t{ 'subShort' : 1 },\n\t        { 'subFull' : 1 }\n\t  \t);\n\t  Reviews._ensureIndex(\n\t    \t{ 'class' : 1},\n\t    \t{ 'difficulty' : 1 },\n\t    \t{ 'quality' : 1 },\n\t    \t{ 'grade' : 1 },\n\t    \t{ 'user' : 1 },\n\t    \t{ 'visible' : 1 }\n\t  \t);\n\t  });\n\n    //code that runs whenever needed\n    //\"publish\" classes based on search query. Only published classes are visible to the client\n    Meteor.publish('classes', function validClasses(searchString) {\n\t  \tif (searchString != undefined && searchString != \"\") {\n\t  \t\tconsole.log(\"query entered:\", searchString);\n\t  \t\treturn Classes.find({'$or' : [\n\t\t\t  { 'classSub':{ '$regex' : `.*${searchString}.*`, '$options' : '-i' }},\n\t\t\t  { 'classNum':{ '$regex' : `.*${searchString}.*`, '$options' : '-i' } },\n\t\t\t  { 'classTitle':{ '$regex' : `.*${searchString}.*`, '$options' : '-i' }},\n\t\t\t  { 'classFull':{ '$regex' : `.*${searchString}.*`, '$options' : '-i' }}]\n\n\t\t\t},\n\t\t\t{limit: 200});\n\t  \t}\n\t  \telse {\n        console.log(\"no search\");\n\t  \t\treturn Classes.find({},\n\t  \t\t{limit: 200});\n\t  \t}\n  \t});\n\n    //\"publish\" reviews based on selected course and visibility requirements. Only published reviews are visible to the client\n\tMeteor.publish('reviews', function validReviews(courseId, visiblity) {\n\t  \tvar ret = null\n\t  \t//show valid reviews for this course\n      console.log('getting reviews');\n\t  \tif (courseId != undefined && courseId != \"\" && visiblity == 1) {\n        console.log('in 1');\n\t  \t\tret =  Reviews.find({class : courseId, visible : 1}, {limit: 700});\n\t  \t} else if (courseId != undefined && courseId != \"\" && visiblity == 0) { //invalidated reviews for a class\n        console.log('in 2');\n        ret =  Reviews.find({class : courseId, visible : 0},\n\t\t\t{limit: 700});\n\t  \t} else if (visiblity == 0) { //all invalidated reviews\n\t  \t\tret =  Reviews.find({visible : 0}, {limit: 700});\n\t  \t} else { //no reviews\n\t  \t\t//will always be empty because visible is 0 or 1. allows meteor to still send the ready flag when a new publication is sent\n\t  \t\tret = Reviews.find({visible : 10});\n\t  \t}\n\t  \treturn ret\n  \t});\n\n  \t// COMMENT THESE OUT AFTER THE FIRST METEOR BUILD!!\n\t//Classes.remove({});\n\t//Subjects.remove({});\n\t//addAllCourses(findAllSemesters());\n}\n\n//Other helper functions used above\n\n// Adds all classes and subjects from Cornell's API between the selected semesters to the database.\n// Called when updating for a new semester and when initializing the database\nfunction addAllCourses(semesters) {\n    // var semesters = [\"SP17\", \"SP16\", \"SP15\",\"FA17\", \"FA16\", \"FA15\"];\n\tfor (semester in semesters) {\n\t\t//get all classes in this semester\n\t    var result = HTTP.call(\"GET\", \"https://classes.cornell.edu/api/2.0/config/subjects.json?roster=\" + semesters[semester], {timeout: 30000});\n\t    if (result.statusCode != 200) {\n\t      console.log(\"error\");\n\t    } else {\n\t\t  \tresponse = JSON.parse(result.content);\n\t\t  \t//console.log(response);\n\t\t\tvar sub = response.data.subjects;\n\t\t\tfor (course in sub) {\n\t\t\t    parent = sub[course];\n\t\t\t    //if subject doesn't exist add to Subjects collection\n\t\t\t    checkSub = Subjects.find({'subShort' : (parent.value).toLowerCase()}).fetch();\n\t\t\t    if (checkSub.length == 0) {\n\t\t\t     \tconsole.log(\"new subject: \" + parent.value);\n\t\t\t        Subjects.insert({\n\t\t\t        \tsubShort : (parent.value).toLowerCase(),\n\t\t\t        \tsubFull : parent.descr\n\t\t\t        });\n\t\t\t    }\n\n\t\t\t    //for each subject, get all classes in that subject for this semester\n\t\t\t    var result2 = HTTP.call(\"GET\", \"https://classes.cornell.edu/api/2.0/search/classes.json?roster=\" + semesters[semester] + \"&subject=\"+ parent.value, {timeout: 30000});\n\t\t\t    if (result2.statusCode != 200) {\n\t\t\t    \tconsole.log(\"error2\");\n\t\t\t    } else {\n\t\t\t    \tresponse2 = JSON.parse(result2.content);\n\t\t\t\t    courses = response2.data.classes;\n\n\t\t\t\t    //add each class to the Classes collection if it doesnt exist already\n\t\t\t\t    for (course in courses) {\n\t\t\t\t    \ttry {\n\t\t\t\t\t        var check = Classes.find({'classSub' : (courses[course].subject).toLowerCase(), 'classNum' : courses[course].catalogNbr}).fetch();\n\t\t\t\t\t        if (check.length == 0) {\n\t\t\t\t\t            console.log(\"new class: \" + courses[course].subject + \" \" + courses[course].catalogNbr + \",\" + semesters[semester]);\n\t\t\t\t\t        \t//insert new class with empty prereqs and reviews\n\t\t\t\t\t        \tClasses.insert({\n\t\t\t\t\t          \t\tclassSub : (courses[course].subject).toLowerCase(),\n\t\t\t\t\t          \t\tclassNum : courses[course].catalogNbr,\n\t\t\t\t\t          \t\tclassTitle : courses[course].titleLong,\n\t\t\t\t\t          \t\tclassPrereq : [],\n\t\t\t\t\t          \t\tclassFull: (courses[course].subject).toLowerCase() + \" \" + courses[course].catalogNbr +\" \" + courses[course].titleLong.toLowerCase(),\n\t\t\t\t\t          \t\tclassSems: [semesters[semester]]\n\t\t\t\t\t       \t\t});\n\t\t\t\t\t     \t} else {\n\t\t\t\t\t     \t\tvar matchedCourse = check[0] //only 1 should exist\n\t\t\t\t\t     \t\tvar oldSems = matchedCourse.classSems;\n\t\t\t\t\t        \tif (oldSems.indexOf(semesters[semester]) == -1) {\n\t\t\t\t\t        \t\tconsole.log(\"update class \" + courses[course].subject + \" \" + courses[course].catalogNbr + \",\" + semesters[semester]);\n\t\t\t\t\t\t        \toldSems.push(semesters[semester]) //add this semester to the list\n\t\t\t\t\t\t        \tClasses.update({_id: matchedCourse._id}, {$set: {classSems: oldSems}})\n\t\t\t\t\t\t        }\n\t\t\t\t\t      \t}\n\t\t\t\t\t    } catch(error){\n\t\t\t\t\t    \tconsole.log(course);\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\t\t\t}\n\t\t}\n\t}\n}\n\n//returns an array of the current semester, to be given to the addAllCourses function\nfunction findCurrSemester()  {\n\tvar response = HTTP.call(\"GET\", \"https://classes.cornell.edu/api/2.0/config/rosters.json\", {timeout: 30000});\n\tif (response.statusCode != 200) {\n      console.log(\"error\");\n    } else {\n\t  \tresponse = JSON.parse(response.content);\n\t\tallSemesters = response.data.rosters;\n\t\tthisSem = allSemesters[allSemesters.length - 1].slug;\n\t\treturn [thisSem];\n\t}\n}\n\n//returns an array of all current semesters, to be given to the addAllCourses function\nfunction findAllSemesters() {\n\tvar response = HTTP.call(\"GET\", \"https://classes.cornell.edu/api/2.0/config/rosters.json\", {timeout: 30000});\n\tif (response.statusCode != 200) {\n      console.log(\"error\");\n    } else {\n\t  \tresponse = JSON.parse(response.content);\n\t\tallSemesters = response.data.rosters;\n\t\tvar allSemestersArray = allSemesters.map(function(semesterObject) {\n\t\t\treturn semesterObject.slug;\n\t\t})\n\t\tconsole.log(allSemestersArray)\n\t\treturn allSemestersArray\n\t}\n}\n"]}